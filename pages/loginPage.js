const { BasePage } = require('./basePage');\n\nclass LoginPage extends BasePage {\n  constructor(page) {\n    super(page);\n    this.LOGIN_BUTTON_SELECTOR = 'button:has-text(\"Log In\"), a:has-text(\"Log In\"), [class*=\"login-btn\"]';\n    this.EMAIL_INPUT_SELECTOR = 'input[type=\"email\"], input[placeholder*=\"email\"], #email';\n    this.PASSWORD_INPUT_SELECTOR = 'input[type=\"password\"], #password';\n    this.SUBMIT_BUTTON_SELECTOR = 'button[type=\"submit\"]:has-text(\"Log In\"), button:has-text(\"Sign In\")';\n    this.FORGOT_PASSWORD_LINK_SELECTOR = 'a:has-text(\"Forgot\"), [class*=\"forgot-password\"]';\n    this.ERROR_MESSAGE_SELECTOR = '[class*=\"error\"], [class*=\"alert\"], .error-message';\n    this.REMEMBER_ME_CHECKBOX_SELECTOR = 'input[type=\"checkbox\"][id*=\"remember\"]';\n    this.LOGIN_FORM_SELECTOR = 'form[action*=\"login\"], [class*=\"login-form\"]';\n  }\n\n  async navigateToLogin() {\n    await this.click(this.LOGIN_BUTTON_SELECTOR);\n    await this.waitForPageLoad();\n  }\n\n  async isLoginFormVisible() {\n    const formSelectors = [this.LOGIN_FORM_SELECTOR, 'form', '[class*=\"login\"]', '[class*=\"auth\"]'];\n    return await this.waitForAny(formSelectors, 2000);\n  }\n\n  async login(email, password) {\n    const emailSelectors = [this.EMAIL_INPUT_SELECTOR, 'input[type=\"email\"]', 'input[name=\"email\"]'];\n    const passwordSelectors = [this.PASSWORD_INPUT_SELECTOR, 'input[type=\"password\"]', 'input[name=\"password\"]'];\n    const submitSelectors = [this.SUBMIT_BUTTON_SELECTOR, 'button[type=\"submit\"]', 'button:has-text(\"Log In\")'];\n\n    await this.fillIfExists(emailSelectors, email);\n    await this.fillIfExists(passwordSelectors, password);\n    await this.clickIfExists(submitSelectors);\n  }\n\n  async getErrorMessage() {\n    if (await this.isElementVisible(this.ERROR_MESSAGE_SELECTOR)) {\n      return await this.getText(this.ERROR_MESSAGE_SELECTOR);\n    }\n    return '';\n  }\n\n  async isErrorDisplayed() {\n    return await this.isElementVisible(this.ERROR_MESSAGE_SELECTOR);\n  }\n\n  async toggleRememberMe() {\n    if (await this.elementExists(this.REMEMBER_ME_CHECKBOX_SELECTOR)) {\n      await this.click(this.REMEMBER_ME_CHECKBOX_SELECTOR);\n    }\n  }\n\n  async clickForgotPassword() {\n    if (await this.elementExists(this.FORGOT_PASSWORD_LINK_SELECTOR)) {\n      await this.click(this.FORGOT_PASSWORD_LINK_SELECTOR);\n      await this.waitForPageLoad();\n    }\n  }\n\n  async clearForm() {\n    if (await this.isElementVisible(this.EMAIL_INPUT_SELECTOR)) {\n      await this.page.fill(this.EMAIL_INPUT_SELECTOR, '');\n    }\n    if (await this.isElementVisible(this.PASSWORD_INPUT_SELECTOR)) {\n      await this.page.fill(this.PASSWORD_INPUT_SELECTOR, '');\n    }\n  }\n}\n\nmodule.exports = { LoginPage };